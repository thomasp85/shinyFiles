<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a button to summon a shinyFiles dialog — shinyFiles-buttons • shinyFiles</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a button to summon a shinyFiles dialog — shinyFiles-buttons"><meta property="og:description" content="This function adds the required html markup for the client to access the file
system. The end result will be the appearance of a button on the webpage that
summons one of the shinyFiles dialog boxes. The last position in the file
system is automatically remembered between instances, but not shared between
several shinyFiles buttons. For a button to have any functionality it must
have a matching observer on the server side. shinyFilesButton() is matched
with shinyFileChoose() and shinyDirButton with shinyDirChoose(). The id
argument of two matching calls must be the same. See
shinyFiles-observers() on how to handle client input on the
server side."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinyFiles</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/thomasp85/shinyFiles/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a button to summon a shinyFiles dialog</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/shinyFiles/blob/HEAD/R/filechoose.R" class="external-link"><code>R/filechoose.R</code></a>, <a href="https://github.com/thomasp85/shinyFiles/blob/HEAD/R/dirchoose.R" class="external-link"><code>R/dirchoose.R</code></a>, <a href="https://github.com/thomasp85/shinyFiles/blob/HEAD/R/filesave.R" class="external-link"><code>R/filesave.R</code></a></small>
    <div class="hidden name"><code>shinyFiles-buttons.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function adds the required html markup for the client to access the file
system. The end result will be the appearance of a button on the webpage that
summons one of the shinyFiles dialog boxes. The last position in the file
system is automatically remembered between instances, but not shared between
several shinyFiles buttons. For a button to have any functionality it must
have a matching observer on the server side. shinyFilesButton() is matched
with shinyFileChoose() and shinyDirButton with shinyDirChoose(). The id
argument of two matching calls must be the same. See
<code><a href="shinyFiles-observers.html">shinyFiles-observers()</a></code> on how to handle client input on the
server side.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">shinyFilesButton</span><span class="op">(</span>
  <span class="va">id</span>,
  <span class="va">label</span>,
  <span class="va">title</span>,
  <span class="va">multiple</span>,
  buttonType <span class="op">=</span> <span class="st">"default"</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  icon <span class="op">=</span> <span class="cn">NULL</span>,
  style <span class="op">=</span> <span class="cn">NULL</span>,
  viewtype <span class="op">=</span> <span class="st">"detail"</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="fu">shinyFilesLink</span><span class="op">(</span>
  <span class="va">id</span>,
  <span class="va">label</span>,
  <span class="va">title</span>,
  <span class="va">multiple</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  icon <span class="op">=</span> <span class="cn">NULL</span>,
  style <span class="op">=</span> <span class="cn">NULL</span>,
  viewtype <span class="op">=</span> <span class="st">"detail"</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="fu">shinyDirButton</span><span class="op">(</span>
  <span class="va">id</span>,
  <span class="va">label</span>,
  <span class="va">title</span>,
  buttonType <span class="op">=</span> <span class="st">"default"</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  icon <span class="op">=</span> <span class="cn">NULL</span>,
  style <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="fu">shinyDirLink</span><span class="op">(</span><span class="va">id</span>, <span class="va">label</span>, <span class="va">title</span>, class <span class="op">=</span> <span class="cn">NULL</span>, icon <span class="op">=</span> <span class="cn">NULL</span>, style <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">shinySaveButton</span><span class="op">(</span>
  <span class="va">id</span>,
  <span class="va">label</span>,
  <span class="va">title</span>,
  filename <span class="op">=</span> <span class="st">""</span>,
  <span class="va">filetype</span>,
  buttonType <span class="op">=</span> <span class="st">"default"</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  icon <span class="op">=</span> <span class="cn">NULL</span>,
  style <span class="op">=</span> <span class="cn">NULL</span>,
  viewtype <span class="op">=</span> <span class="st">"detail"</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="fu">shinySaveLink</span><span class="op">(</span>
  <span class="va">id</span>,
  <span class="va">label</span>,
  <span class="va">title</span>,
  filename <span class="op">=</span> <span class="st">""</span>,
  <span class="va">filetype</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  icon <span class="op">=</span> <span class="cn">NULL</span>,
  style <span class="op">=</span> <span class="cn">NULL</span>,
  viewtype <span class="op">=</span> <span class="st">"detail"</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>id</dt>
<dd><p>The id matching the <code><a href="shinyFiles-observers.html">shinyFileChoose()</a></code></p></dd>
<dt>label</dt>
<dd><p>The text that should appear on the button</p></dd>
<dt>title</dt>
<dd><p>The heading of the dialog box that appears when the button is
pressed</p></dd>
<dt>multiple</dt>
<dd><p>A logical indicating whether or not it should be possible to
select multiple files</p></dd>
<dt>buttonType</dt>
<dd><p>The Bootstrap button markup used to colour the button.
Defaults to 'default' for a neutral appearance but can be changed for another
look. The value will be pasted with 'btn-' and added as class.</p></dd>
<dt>class</dt>
<dd><p>Additional classes added to the button</p></dd>
<dt>icon</dt>
<dd><p>An optional <a href="https://shiny.rstudio.com/reference/shiny/latest/icon.html" class="external-link">icon</a> to appear on the button.</p></dd>
<dt>style</dt>
<dd><p>Additional styling added to the button (e.g., "margin-top: 25px;")</p></dd>
<dt>viewtype</dt>
<dd><p>View type to use in the file browser. One of "detail" (default), "list", or "icon"</p></dd>
<dt>...</dt>
<dd><p>Named attributes to be applied to the button or link (e.g., 'onclick')</p></dd>
<dt>filename</dt>
<dd><p>A predefined filename to be filed in. Can be modified by the
user during saving.</p></dd>
<dt>filetype</dt>
<dd><p>A named list of file extensions. The name of each element
gives the name of the filetype and the content of the element the possible
extensions e.g. <code>list(picture=c('jpg', 'jpeg'))</code>. The first extension
will be used as default if it is not supplied by the user.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>This function is called for its side effects</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><strong>Selecting files</strong></p>
<p>When a user selects one or several files the corresponding input variable is
set to a list containing a character vector for each file. The character
vectors gives the traversal route from the root to the selected file(s). The
reason it does not give a path as a string is that the client has no
knowledge of the file system on the server and can therefore not ensure
proper formatting. The <code><a href="shinyFiles-parsers.html">parseFilePaths()</a></code> function can be used on
the server to format the input variable into a format similar to that
returned by <code><a href="https://rdrr.io/pkg/shiny/man/fileInput.html" class="external-link">shiny::fileInput()</a></code>.</p>
<p><strong>Selecting folders</strong></p>
<p>When a folder is selected it will also be available in its respective input
variable as a list giving the traversal route to the selected folder. To
properly format it, feed it into <code><a href="shinyFiles-parsers.html">parseDirPath()</a></code> and a string with
the full folder path will be returned.</p>
<p><strong>Creating files (saving)</strong></p>
<p>When a new filename is created it will become available in the respective
input variable and can be formatted with <code><a href="shinyFiles-parsers.html">parseSavePath()</a></code> into a
data.frame reminiscent that returned by fileInput. There is no size column
and the type is only present if the filetype argument is used in
<code>shinySaveButton</code>. In that case it will be the name of the chosen type
(not the extension).</p>
<p><strong>Manual markup</strong></p>
<p>For users wanting to design their html markup manually it is very easy to add
a shinyFiles button. The only markup required is:</p>
<p><em>shinyFilesButton</em></p>
<p><code>&lt;button id="inputId" type="button" class="shinyFiles btn btn-default" data-title="title" data-selecttype="single"|"multiple"&gt;label&lt;/button&gt;</code></p>
<p><em>shinyDirButton</em></p>
<p><code>&lt;button id="inputId" type="button" class="shinyDirectories btn-default" data-title="title"&gt;label&lt;/button&gt;</code></p>
<p><em>shinySaveButton</em></p>
<p><code>&lt;button id="inputId" type="button" class="shinySave btn-default" data-title="title" data-filetype="[{name: 'type1', ext: ['txt']}, {name: 'type2', ext: ['exe', 'bat']}]"&gt;label&lt;/button&gt;</code></p>
<p>where the id tag matches the inputId parameter, the data-title tag matches
the title parameter, the data-selecttype is either "single" or "multiple"
(the non-logical form of the multiple parameter) and the internal textnode
matches the label parameter. The data-filetype tag is a bit more involved as
it is a json formatted array of objects with the properties 'name' and 'ext'.
'name' gives the name of the filetype as a string and 'ext' the allowed
extensions as an array of strings. The non-exported
<code><a href="formatFiletype.html">formatFiletype()</a></code> function can help convert from a named R list
into the string representation. In the example above "btn-default" is used as
button styling, but this can be changed to any other Bootstrap style.</p>
<p>Apart from this the html document should link to a script with the
following path 'sF/shinyFiles.js' and a stylesheet with the following path
'sF/styles.css'.</p>
<p>The markup is bootstrap compliant so if the bootstrap css is used in the page
the look will fit right in. There is nothing that hinders the developer from
ignoring bootstrap altogether and designing the visuals themselves. The only
caveat being that the glyphs used in the menu buttons are bundled with
bootstrap. Use the css ::after pseudoclasses to add alternative content to
these buttons. Additional filetype specific icons can be added with css using
the following style:</p>
<div class="sourceCode"><pre><code>
.sF-file .sF-file-icon .yourFileExtension{
    content: url(path/to/16x16/pixel/png);
}
.sF-fileList.sF-icons .sF-file .sF-file-icon .yourFileExtension{
  content: url(path/to/32x32/pixel/png);
}
</code></pre></div>

<p>If no large version is specified the small version gets upscaled.</p>
<p><strong>Client side events</strong></p>
<p>If the shiny app uses custom Javascript it is possible to react to selections
directly from the javascript. Once a selection has been made, the button will
fire the event 'selection' and pass the selection data along with the event.
To listen for this event you simple add:</p>
<div class="sourceCode"><pre><code>
$(button).on('selection', function(event, path) {
  // Do something with the paths here
})
</code></pre></div>

<p>In the same way, when a file is saved, the save button will fire the event
'save' and pass the file path along with the event. To listen for this event
you can use:</p>
<div class="sourceCode"><pre><code>
$(button).on('save', function(event, path) {
  // Do something with the path here
})
</code></pre></div>

<p>Moreover, a 'cancel' event is fired when a user dismisses a ShinyFiles dialog
box. In that case, no path is passed on.</p>
<p>Outside events the current selection is available as an object bound to the
button and can be accessed at any time:</p>
<div class="sourceCode"><pre><code>
// For a shinyFilesButton
$(button).data('files')

// For a shinyDirButton
$(button).data('directory')

// For a shinySaveButton
$(button).data('file')
</code></pre></div>

    </div>
    <div id="references">
    <h2>References</h2>
    <p>The file icons used in the file system navigator is taken from
FatCows Farm-Fresh Web Icons (<a href="https://www.fatcow.com/free-icons" class="external-link">https://www.fatcow.com/free-icons</a>)</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other shinyFiles: 
<code><a href="shinyFiles-observers.html">shinyFiles-observers</a></code>,
<code><a href="shinyFiles-parsers.html">shinyFiles-parsers</a></code>,
<code><a href="shinyFilesExample.html">shinyFilesExample</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thomas Lin Pedersen, Vincent Nijs, Thomas Schaffner, Eric Nantz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

